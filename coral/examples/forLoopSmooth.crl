# coral save script
version = 0.1

def runScript(topNode = 'root'):
    executeCommand('CreateNode', className = 'DrawGeo', name = 'DrawGeo', specializationPreset = 'none', parentNode = topNode)
    executeCommand('SetAttributeValue', attribute = topNode + '.DrawGeo.smooth', value = 'True')
    executeCommand('SetAttributeValue', attribute = topNode + '.DrawGeo.flat', value = 'False')
    executeCommand('SetAttributeValue', attribute = topNode + '.DrawGeo.wireframe', value = 'True')
    executeCommand('SetAttributeValue', attribute = topNode + '.DrawGeo.points', value = 'False')
    executeCommand('SetAttributeValue', attribute = topNode + '.DrawGeo.normals', value = 'False')
    
    executeCommand('CreateNode', className = 'GeoCube', name = 'GeoCube', specializationPreset = 'none', parentNode = topNode)
    executeCommand('SetAttributeValue', attribute = topNode + '.GeoCube.width', value = '[10] 3')
    executeCommand('SetAttributeValue', attribute = topNode + '.GeoCube.height', value = '[10] 3')
    executeCommand('SetAttributeValue', attribute = topNode + '.GeoCube.depth', value = '[10] 3')
    executeCommand('SetAttributeValue', attribute = topNode + '.GeoCube.widthSubdivisions', value = '[5] 1')
    executeCommand('SetAttributeValue', attribute = topNode + '.GeoCube.heightSubdivisions', value = '[5] 1')
    executeCommand('SetAttributeValue', attribute = topNode + '.GeoCube.depthSubdivisions', value = '[5] 1')
    
    executeCommand('CreateNode', className = 'CollapsedNode', name = 'Smooth', specializationPreset = 'none', parentNode = topNode)
    executeCommand('CreateAttribute', name = '2:geo', className = 'PassThroughAttribute', parentNode = topNode + '.Smooth', input = True, specializationOverride = 'Geo')
    executeCommand('CreateAttribute', name = '1:iterations', className = 'PassThroughAttribute', parentNode = topNode + '.Smooth', input = True, specializationOverride = 'Int')
    executeCommand('CreateAttribute', name = 'output', className = 'PassThroughAttribute', parentNode = topNode + '.Smooth', output = True)
    
    executeCommand('CreateNode', className = 'ForLoop', name = 'AverageNeighbourPoints', specializationPreset = 'none', parentNode = topNode + '.Smooth')
    executeCommand('CreateAttribute', name = 'input', className = 'PassThroughAttribute', parentNode = topNode + '.Smooth.AverageNeighbourPoints', input = True, specializationOverride = 'IntArray')
    executeCommand('CreateAttribute', name = 'input1', className = 'PassThroughAttribute', parentNode = topNode + '.Smooth.AverageNeighbourPoints', input = True)
    executeCommand('CreateAttribute', name = 'input2', className = 'PassThroughAttribute', parentNode = topNode + '.Smooth.AverageNeighbourPoints', input = True, specializationOverride = 'Geo')
    executeCommand('SetAttributeValue', attribute = topNode + '.Smooth.AverageNeighbourPoints._currentIndex', value = '[10] 1')
    
    executeCommand('CreateNode', className = 'GetSimulationStep', name = 'getIterationStep', specializationPreset = 'none', parentNode = topNode + '.Smooth.AverageNeighbourPoints')
    
    executeCommand('CreateNode', className = 'SetSimulationStep', name = 'setIterationStep', specializationPreset = 'none', parentNode = topNode + '.Smooth.AverageNeighbourPoints')
    executeCommand('SetAttributeValue', attribute = topNode + '.Smooth.AverageNeighbourPoints.setIterationStep.source', value = '[(0,0,0)] 6')
    
    executeCommand('CreateNode', className = 'ForLoop', name = 'ForLoop', specializationPreset = 'none', parentNode = topNode + '.Smooth.AverageNeighbourPoints')
    executeCommand('CreateAttribute', name = 'input', className = 'PassThroughAttribute', parentNode = topNode + '.Smooth.AverageNeighbourPoints.ForLoop', input = True, specializationOverride = 'Geo')
    executeCommand('CreateAttribute', name = 'input1', className = 'PassThroughAttribute', parentNode = topNode + '.Smooth.AverageNeighbourPoints.ForLoop', input = True, specializationOverride = 'Vec3Array')
    executeCommand('SetAttributeValue', attribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop._currentIndex', value = '[151] 1')
    
    executeCommand('CreateNode', className = 'GetArrayElement', name = 'GetArrayElement', specializationPreset = 'none', parentNode = topNode + '.Smooth.AverageNeighbourPoints.ForLoop')
    
    executeCommand('CreateNode', className = 'Add', name = 'Add', specializationPreset = 'none', parentNode = topNode + '.Smooth.AverageNeighbourPoints.ForLoop')
    
    executeCommand('CreateNode', className = 'ArraySize', name = 'ArraySize', specializationPreset = 'none', parentNode = topNode + '.Smooth.AverageNeighbourPoints.ForLoop')
    
    executeCommand('CreateNode', className = 'Div', name = 'Div', specializationPreset = 'none', parentNode = topNode + '.Smooth.AverageNeighbourPoints.ForLoop')
    
    executeCommand('CreateNode', className = 'Add', name = 'Add1', specializationPreset = 'none', parentNode = topNode + '.Smooth.AverageNeighbourPoints.ForLoop')
    
    executeCommand('CreateNode', className = 'Int', name = 'one', specializationPreset = 'none', parentNode = topNode + '.Smooth.AverageNeighbourPoints.ForLoop')
    executeCommand('SetAttributeValue', attribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.one.out', value = '[1] 1')
    
    executeCommand('CreateNode', className = 'NumericIterator', name = 'NumericIterator', specializationPreset = 'none', parentNode = topNode + '.Smooth.AverageNeighbourPoints.ForLoop')
    
    executeCommand('CreateNode', className = 'GetArrayElement', name = 'GetArrayElement1', specializationPreset = 'none', parentNode = topNode + '.Smooth.AverageNeighbourPoints.ForLoop')
    
    executeCommand('CreateNode', className = 'GetGeoSubElements', name = 'GetGeoSubElements', specializationPreset = 'none', parentNode = topNode + '.Smooth.AverageNeighbourPoints.ForLoop')
    executeCommand('SetAttributeValue', attribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetGeoSubElements.context', value = '[{0:"vertex neighbours",1:"edge vertices",2:"face vertices",},0]')
    
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.input1', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetArrayElement.array')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop._currentIndex', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetArrayElement.index')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetArrayElement.element', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.Add.in0')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetArrayElement1.element', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.Add.in1')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetGeoSubElements.subElements', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.ArraySize.array')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.Add.out', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.Div.in0')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.Add1.out', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.Div.in1')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.ArraySize.size', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.Add1.in0')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.one.out', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.Add1.in1')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop._currentIndex', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.NumericIterator.index')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.Div.out', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.NumericIterator.element')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.NumericIterator.array', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.out')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.input1', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetArrayElement1.array')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetGeoSubElements.subElements', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetArrayElement1.index')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.input', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetGeoSubElements.geo')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop._currentIndex', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetGeoSubElements.index')
    executeCommand('CreateNode', className = 'String', name = 'globaKey', specializationPreset = 'none', parentNode = topNode + '.Smooth.AverageNeighbourPoints')
    executeCommand('SetAttributeValue', attribute = topNode + '.Smooth.AverageNeighbourPoints.globaKey.string', value = 'averageStep')
    
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.globaKey.string', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.getIterationStep.storageKey')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.input1', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.getIterationStep.source')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints._currentIndex', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.getIterationStep.step')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.getIterationStep.data', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.input1')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.globaKey.string', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.setIterationStep.storageKey')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.out', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.setIterationStep.data')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.setIterationStep.result', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.out')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.input', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.indexRange')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.input2', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.input')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.getIterationStep.data', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.input1')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.NumericIterator.array', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.out')
    executeCommand('CreateNode', className = 'RangeArray', name = 'RangeArray', specializationPreset = 'none', parentNode = topNode + '.Smooth')
    executeCommand('SetAttributeValue', attribute = topNode + '.Smooth.RangeArray.start', value = '[0] 1')
    executeCommand('SetAttributeValue', attribute = topNode + '.Smooth.RangeArray.end', value = '[10] 1')
    executeCommand('SetAttributeValue', attribute = topNode + '.Smooth.RangeArray.steps', value = '[10] 1')
    
    executeCommand('CreateNode', className = 'SetGeoPoints', name = 'SetGeoPoints', specializationPreset = 'none', parentNode = topNode + '.Smooth')
    
    executeCommand('CreateNode', className = 'GetGeoPoints', name = 'GetGeoPoints', specializationPreset = 'none', parentNode = topNode + '.Smooth')
    
    executeCommand('CreateNode', className = 'GetGeoElements', name = 'GetGeoElements', specializationPreset = 'none', parentNode = topNode + '.Smooth')
    executeCommand('SetAttributeValue', attribute = topNode + '.Smooth.GetGeoElements.context', value = '[{0:"vertices",1:"edges",2:"faces",},0]')
    
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.RangeArray.array', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.indexRange')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.GetGeoElements.elements', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.input')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.GetGeoPoints.points', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.input1')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.2:geo', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.input2')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.input2', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.input')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.setIterationStep.result', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.out')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.1:iterations', destinationAttribute = topNode + '.Smooth.RangeArray.end')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.1:iterations', destinationAttribute = topNode + '.Smooth.RangeArray.steps')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.2:geo', destinationAttribute = topNode + '.Smooth.SetGeoPoints.inGeo')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.AverageNeighbourPoints.out', destinationAttribute = topNode + '.Smooth.SetGeoPoints.points')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.SetGeoPoints.outGeo', destinationAttribute = topNode + '.Smooth.output')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.2:geo', destinationAttribute = topNode + '.Smooth.GetGeoPoints.geo')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.GetGeoPoints.points', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.input1')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.2:geo', destinationAttribute = topNode + '.Smooth.GetGeoElements.geo')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.GetGeoElements.elements', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.input')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.output', destinationAttribute = topNode + '.DrawGeo.geo')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.GeoCube.out', destinationAttribute = topNode + '.Smooth.2:geo')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.GeoCube.out', destinationAttribute = topNode + '.Smooth.2:geo')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.2:geo', destinationAttribute = topNode + '.Smooth.AverageNeighbourPoints.input2')
    executeCommand('ConnectAttributes', sourceAttribute = topNode + '.Smooth.SetGeoPoints.outGeo', destinationAttribute = topNode + '.Smooth.output')
    # nodeEditor save data
    executeCommand('SetNodeUiData', node = topNode, data = {})
    executeCommand('SetNodeUiData', node = topNode + '.DrawGeo', data = {'pos': [372.11111111111177, 251.66666666666697]})
    executeCommand('SetNodeUiData', node = topNode + '.GeoCube', data = {'pos': [-120.65240641711236, 151.5026737967915]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth', data = {'attributes': [{'name': '1:iterations', 'pos': [-18.375, -28.0]}, {'name': '2:geo', 'pos': [-16.144879426129307, 123.17338217338215]}, {'name': 'output', 'pos': [930.44196428571468, 256.57142857142867]}], 'pos': [150.51198721281457, 187.46385422856025]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints', data = {'attributes': [{'name': 'indexRange', 'pos': [0.0, 0.0]}, {'name': 'input', 'pos': [35.0, 320.00000000000028]}, {'name': 'input1', 'pos': [45.0, 229.0]}, {'name': 'input2', 'pos': [56.999999999999964, 466.00000000000006]}, {'name': 'out', 'pos': [1204.4444444444455, 472.88888888888908]}], 'pos': [444.20512820512823, 73.871794871794805]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints.getIterationStep', data = {'pos': [395.0, 264.00000000000011]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints.setIterationStep', data = {'pos': [911.66666666666663, 226.0]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints.ForLoop', data = {'attributes': [{'name': 'indexRange', 'pos': [-1.6666666666666572, 5.0]}, {'name': 'input', 'pos': [34.0, 197.33333333333337]}, {'name': 'input1', 'pos': [31.0, 108.66666666666669]}, {'name': 'out', 'pos': [1613.3333333333353, 450.66666666666708]}], 'pos': [600.00000000000045, 381.00000000000023]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetArrayElement', data = {'pos': [341.14285714285717, 50.428571428571388]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.Add', data = {'pos': [798.75213675213672, 120.76923076923072]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.ArraySize', data = {'pos': [789.16971916971943, 269.67032967032975]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.Div', data = {'pos': [1106.7777777777785, 239.00000000000017]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.Add1', data = {'pos': [957.44444444444457, 327.99999999999994]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.one', data = {'pos': [801.44444444444457, 413.99999999999994]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.NumericIterator', data = {'pos': [1308.4444444444446, 307.99999999999994]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetArrayElement1', data = {'pos': [526.22222222222263, 149.39682539682531]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints.ForLoop.GetGeoSubElements', data = {'pos': [247.14285714285722, 232.85714285714289]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.AverageNeighbourPoints.globaKey', data = {'pos': [267.50000000000017, 113.75000000000006]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.RangeArray', data = {'pos': [209.0, -69.0]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.SetGeoPoints', data = {'pos': [724.28571428571468, 208.57142857142864]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.GetGeoPoints', data = {'pos': [235.0, 191.0]})
    executeCommand('SetNodeUiData', node = topNode + '.Smooth.GetGeoElements', data = {'pos': [206.0, 53.0]})
    
